# 18.坐标系变换：模型坐标系变换到世界坐标系
到这里基本的变换原理与实现已经学习完了。接下来我们需要学习如何应用。
## 坐标系变换的分类
在webgl坐标系章节中已经讲解过有哪些坐标系，以及我们可以控制的坐标系。

- 将模型坐标转换到世界坐标
   - 通过模型变换的方式
- 将世界坐标转换到观察者坐标
   - 通过视图变换的方式
- 将观察者坐标转换成裁剪坐标
   - 通过投影变换的方式

需要强调一下，矩阵变换的时候顺序是从右到左，所以需要优先变换的应该优先左乘。例如最终变换矩阵为 F，模型矩阵为 M， 视图矩阵为 V，投影矩阵为 P，那么 F =  P x V x M。
如果不按照这个顺序，结果就可能不符合预期。
## 坐标系变换的起点-模型坐标系
一般，我们首先能拿到的就是模型数据，模型中每个点的位置是相对于模型中的某个点确定的，通常我们称之为中心点，也就是模型坐标系的原点。所有其他模型中的点都是基于此建立的。
默认情况下模型坐标系和世界坐标系是重合的，然后我们需要根据我们的需求将模型放到我们期望的位置，这就涉及到了模型变换。
模型变换的作用就是将模型顶点从模型坐标系转换到世界坐标系中。
## 模型变换
变换是由多个基本变换组合（通过矩阵变换）而成的，因为矩阵不满足乘法的交换律，所以矩阵的顺序就很重要。
### 平移与旋转
如果我们有两个立方体，A先平移再旋转，B先旋转再平移。根据我们前面说的，他们的结果肯定不一样。
### 考虑缩放
当缩放矩阵的缩放比例一致时，旋转与缩放的顺序就不重要了，表现都是一样的。
## 模型变换公式
假设模型变换矩阵为 M，缩放矩阵为 S，旋转矩阵为 R，平移矩阵为 T，考虑到我们是列主序，所以有如下公式：
M = T x R x S

